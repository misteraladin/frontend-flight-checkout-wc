import{j as d,v as re,i as x,k as R,u as t,l as Ne,w as q,z as Ve,m as Ze,d as Ae,o as f,c as w,r as O,A as X,B as oe,C as Ge,D as Qe,s as se,E as N,G as et,H as tt,I as ot,J as m,F as ae,n as b,e as V,K as S,y as L,L as U,x as st,M as at,N as nt,O as W,f as lt,P as Ce}from"./runtime-dom.esm-bundler.5b16f08f.js";import{f as rt,b as it,u as ut,a as ie,c as Te,d as ct,e as Fe,g as Y,h as ne,i as dt,j as pt,_ as _e,w as Be,k as $e,l as Pe,V as ft,v as vt,m as mt,n as yt,o as ht,p as bt,q as gt}from"./plugin-vue_export-helper.3b2ca83c.js";class wt extends Error{constructor(a){super(a),this.name="ElementPlusError"}}function Jt(o,a){throw new wt(`[${o}] ${a}`)}function Zt(o,a){}const le="update:modelValue",Gt="change",xt=["","default","small","large"],Qt={large:40,default:32,small:24},St=o=>/([(\uAC00-\uD7AF)|(\u3130-\u318F)])+/gi.test(o),Et=o=>o,It=["class","style"],zt=/^on[A-Z]/,Ct=(o={})=>{const{excludeListeners:a=!1,excludeKeys:n}=o,s=d(()=>((n==null?void 0:n.value)||[]).concat(It)),l=re();return l?d(()=>{var i;return rt(Object.entries((i=l.proxy)==null?void 0:i.$attrs).filter(([c])=>!s.value.includes(c)&&!(a&&zt.test(c))))}):d(()=>({}))},Le=o=>{const a=re();return d(()=>{var n,s;return(s=((n=a.proxy)==null?void 0:n.$props)[o])!=null?s:void 0})},$t=it({type:String,values:xt,required:!1}),Pt=(o,a={})=>{const n=x(void 0),s=a.prop?n:Le("size"),l=a.global?n:ut("size"),i=a.form?{size:void 0}:R(ie,void 0),c=a.formItem?{size:void 0}:R(Te,void 0);return d(()=>s.value||t(o)||(c==null?void 0:c.size)||(i==null?void 0:i.size)||l.value||"")},kt=o=>{const a=Le("disabled"),n=R(ie,void 0);return d(()=>a.value||t(o)||(n==null?void 0:n.disabled)||!1)},Nt=()=>{const o=R(ie,void 0),a=R(Te,void 0);return{form:o,formItem:a}},Vt=(o,{formItemContext:a,disableIdGeneration:n,disableIdManagement:s})=>{n||(n=x(!1)),s||(s=x(!1));const l=x();let i;const c=d(()=>{var h;return!!(!o.label&&a&&a.inputIds&&((h=a.inputIds)==null?void 0:h.length)<=1)});return Ne(()=>{i=q([Ve(o,"id"),n],([h,p])=>{const y=h!=null?h:p?void 0:ct().value;y!==l.value&&(a!=null&&a.removeInputId&&(l.value&&a.removeInputId(l.value),!(s!=null&&s.value)&&!p&&y&&a.addInputId(y)),l.value=y)},{immediate:!0})}),Ze(()=>{i&&i(),a!=null&&a.removeInputId&&l.value&&a.removeInputId(l.value)}),{isLabeledByFormItem:c,inputId:l}};function At(o){const a=x();function n(){if(o.value==null)return;const{selectionStart:l,selectionEnd:i,value:c}=o.value;if(l==null||i==null)return;const h=c.slice(0,Math.max(0,l)),p=c.slice(Math.max(0,i));a.value={selectionStart:l,selectionEnd:i,value:c,beforeTxt:h,afterTxt:p}}function s(){if(o.value==null||a.value==null)return;const{value:l}=o.value,{beforeTxt:i,afterTxt:c,selectionStart:h}=a.value;if(i==null||c==null||h==null)return;let p=l.length;if(l.endsWith(c))p=l.length-c.length;else if(l.startsWith(i))p=i.length;else{const y=i[h-1],E=l.indexOf(y,h-1);E!==-1&&(p=E+1)}o.value.setSelectionRange(p,p)}return[n,s]}const Tt=Fe({size:{type:Y([Number,String])},color:{type:String}}),Ft={name:"ElIcon",inheritAttrs:!1},_t=Ae({...Ft,props:Tt,setup(o){const a=o,n=ne("icon"),s=d(()=>{const{size:l,color:i}=a;return!l&&!i?{}:{fontSize:dt(l)?void 0:pt(l),"--color":i}});return(l,i)=>(f(),w("i",X({class:t(n).b(),style:t(s)},l.$attrs),[O(l.$slots,"default")],16))}});var Bt=_e(_t,[["__file","/home/runner/work/element-plus/element-plus/packages/components/icon/src/icon.vue"]]);const M=Be(Bt);let g;const Lt=`
  height:0 !important;
  visibility:hidden !important;
  overflow:hidden !important;
  position:absolute !important;
  z-index:-1000 !important;
  top:0 !important;
  right:0 !important;
`,Mt=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing"];function Ot(o){const a=window.getComputedStyle(o),n=a.getPropertyValue("box-sizing"),s=Number.parseFloat(a.getPropertyValue("padding-bottom"))+Number.parseFloat(a.getPropertyValue("padding-top")),l=Number.parseFloat(a.getPropertyValue("border-bottom-width"))+Number.parseFloat(a.getPropertyValue("border-top-width"));return{contextStyle:Mt.map(c=>`${c}:${a.getPropertyValue(c)}`).join(";"),paddingSize:s,borderSize:l,boxSizing:n}}function ke(o,a=1,n){var s;g||(g=document.createElement("textarea"),document.body.appendChild(g));const{paddingSize:l,borderSize:i,boxSizing:c,contextStyle:h}=Ot(o);g.setAttribute("style",`${h};${Lt}`),g.value=o.value||o.placeholder||"";let p=g.scrollHeight;const y={};c==="border-box"?p=p+i:c==="content-box"&&(p=p-l),g.value="";const E=g.scrollHeight-l;if($e(a)){let v=E*a;c==="border-box"&&(v=v+l+i),p=Math.max(v,p),y.minHeight=`${v}px`}if($e(n)){let v=E*n;c==="border-box"&&(v=v+l+i),p=Math.min(v,p)}return y.height=`${p}px`,(s=g.parentNode)==null||s.removeChild(g),g=void 0,y}const Rt=Fe({id:{type:String,default:void 0},size:$t,disabled:Boolean,modelValue:{type:Y([String,Number,Object]),default:""},type:{type:String,default:"text"},resize:{type:String,values:["none","both","horizontal","vertical"]},autosize:{type:Y([Boolean,Object]),default:!1},autocomplete:{type:String,default:"off"},formatter:{type:Function},parser:{type:Function},placeholder:{type:String},form:{type:String,default:""},readonly:{type:Boolean,default:!1},clearable:{type:Boolean,default:!1},showPassword:{type:Boolean,default:!1},showWordLimit:{type:Boolean,default:!1},suffixIcon:{type:Pe},prefixIcon:{type:Pe},containerRole:{type:String,default:void 0},label:{type:String,default:void 0},tabindex:{type:[String,Number],default:0},validateEvent:{type:Boolean,default:!0},inputStyle:{type:Y([Object,Array,String]),default:()=>Et({})}}),Dt={[le]:o=>oe(o),input:o=>oe(o),change:o=>oe(o),focus:o=>o instanceof FocusEvent,blur:o=>o instanceof FocusEvent,clear:()=>!0,mouseleave:o=>o instanceof MouseEvent,mouseenter:o=>o instanceof MouseEvent,keydown:o=>o instanceof Event,compositionstart:o=>o instanceof CompositionEvent,compositionupdate:o=>o instanceof CompositionEvent,compositionend:o=>o instanceof CompositionEvent},Ht=["role"],Kt=["id","type","disabled","formatter","parser","readonly","autocomplete","tabindex","aria-label","placeholder"],jt=["id","tabindex","disabled","readonly","autocomplete","aria-label","placeholder"],Ut={name:"ElInput",inheritAttrs:!1},Wt=Ae({...Ut,props:Rt,emits:Dt,setup(o,{expose:a,emit:n}){const s=o,l={suffix:"append",prefix:"prepend"},i=re(),c=Ge(),h=Qe(),p=d(()=>{const e={};return s.containerRole==="combobox"&&(e["aria-haspopup"]=c["aria-haspopup"],e["aria-owns"]=c["aria-owns"],e["aria-expanded"]=c["aria-expanded"]),e}),y=Ct({excludeKeys:d(()=>Object.keys(p.value))}),{form:E,formItem:v}=Nt(),{inputId:ue}=Vt(s,{formItemContext:v}),Me=Pt(),$=kt(),r=ne("input"),ce=ne("textarea"),D=se(),P=se(),A=x(!1),J=x(!1),T=x(!1),H=x(!1),de=x(),Z=se(s.inputStyle),F=d(()=>D.value||P.value),pe=d(()=>{var e;return(e=E==null?void 0:E.statusIcon)!=null?e:!1}),_=d(()=>(v==null?void 0:v.validateState)||""),fe=d(()=>_.value&&ft[_.value]),Oe=d(()=>H.value?vt:mt),Re=d(()=>[c.style,s.inputStyle]),ve=d(()=>[s.inputStyle,Z.value,{resize:s.resize}]),I=d(()=>yt(s.modelValue)?"":String(s.modelValue)),K=d(()=>s.clearable&&!$.value&&!s.readonly&&!!I.value&&(A.value||J.value)),G=d(()=>s.showPassword&&!$.value&&!s.readonly&&!!I.value&&(!!I.value||A.value)),k=d(()=>s.showWordLimit&&!!y.value.maxlength&&(s.type==="text"||s.type==="textarea")&&!$.value&&!s.readonly&&!s.showPassword),Q=d(()=>Array.from(I.value).length),De=d(()=>!!k.value&&Q.value>Number(y.value.maxlength)),He=d(()=>!!h.suffix||!!s.suffixIcon||K.value||s.showPassword||k.value||!!_.value&&pe.value),[Ke,je]=At(D);ht(P,e=>{if(!k.value||s.resize!=="both")return;const u=e[0],{width:z}=u.contentRect;de.value={right:`calc(100% - ${z+15+6}px)`}});const j=()=>{const{type:e,autosize:u}=s;if(!(!gt||e!=="textarea"))if(u){const z=Ce(u)?u.minRows:void 0,C=Ce(u)?u.maxRows:void 0;Z.value={...ke(P.value,z,C)}}else Z.value={minHeight:ke(P.value).minHeight}},B=()=>{const e=F.value;!e||e.value===I.value||(e.value=I.value)},me=e=>{const{el:u}=i.vnode;if(!u)return;const C=Array.from(u.querySelectorAll(`.${r.e(e)}`)).find(Je=>Je.parentNode===u);if(!C)return;const ze=l[e];h[ze]?C.style.transform=`translateX(${e==="suffix"?"-":""}${u.querySelector(`.${r.be("group",ze)}`).offsetWidth}px)`:C.removeAttribute("style")},ee=()=>{me("prefix"),me("suffix")},te=async e=>{Ke();let{value:u}=e.target;if(s.formatter&&(u=s.parser?s.parser(u):u,u=s.formatter(u)),!T.value){if(u===I.value){B();return}n(le,u),n("input",u),await N(),B(),je()}},ye=e=>{n("change",e.target.value)},he=e=>{n("compositionstart",e),T.value=!0},be=e=>{var u;n("compositionupdate",e);const z=(u=e.target)==null?void 0:u.value,C=z[z.length-1]||"";T.value=!St(C)},ge=e=>{n("compositionend",e),T.value&&(T.value=!1,te(e))},Ue=()=>{H.value=!H.value,we()},we=async()=>{var e;await N(),(e=F.value)==null||e.focus()},We=()=>{var e;return(e=F.value)==null?void 0:e.blur()},xe=e=>{A.value=!0,n("focus",e)},Se=e=>{var u;A.value=!1,n("blur",e),s.validateEvent&&((u=v==null?void 0:v.validate)==null||u.call(v,"blur").catch(z=>void 0))},qe=e=>{J.value=!1,n("mouseleave",e)},Xe=e=>{J.value=!0,n("mouseenter",e)},Ee=e=>{n("keydown",e)},Ye=()=>{var e;(e=F.value)==null||e.select()},Ie=()=>{n(le,""),n("change",""),n("clear"),n("input","")};return q(()=>s.modelValue,()=>{var e;N(()=>j()),s.validateEvent&&((e=v==null?void 0:v.validate)==null||e.call(v,"change").catch(u=>void 0))}),q(I,()=>B()),q(()=>s.type,async()=>{await N(),B(),j(),ee()}),Ne(async()=>{!s.formatter&&s.parser,B(),ee(),await N(),j()}),et(async()=>{await N(),ee()}),a({input:D,textarea:P,ref:F,textareaStyle:ve,autosize:Ve(s,"autosize"),focus:we,blur:We,select:Ye,clear:Ie,resizeTextarea:j}),(e,u)=>tt((f(),w("div",X(t(p),{class:[e.type==="textarea"?t(ce).b():t(r).b(),t(r).m(t(Me)),t(r).is("disabled",t($)),t(r).is("exceed",t(De)),{[t(r).b("group")]:e.$slots.prepend||e.$slots.append,[t(r).bm("group","append")]:e.$slots.append,[t(r).bm("group","prepend")]:e.$slots.prepend,[t(r).m("prefix")]:e.$slots.prefix||e.prefixIcon,[t(r).m("suffix")]:e.$slots.suffix||e.suffixIcon||e.clearable||e.showPassword,[t(r).bm("suffix","password-clear")]:t(K)&&t(G)},e.$attrs.class],style:t(Re),role:e.containerRole,onMouseenter:Xe,onMouseleave:qe}),[m(" input "),e.type!=="textarea"?(f(),w(ae,{key:0},[m(" prepend slot "),e.$slots.prepend?(f(),w("div",{key:0,class:b(t(r).be("group","prepend"))},[O(e.$slots,"prepend")],2)):m("v-if",!0),V("div",{class:b([t(r).e("wrapper"),t(r).is("focus",A.value)])},[m(" prefix slot "),e.$slots.prefix||e.prefixIcon?(f(),w("span",{key:0,class:b(t(r).e("prefix"))},[V("span",{class:b(t(r).e("prefix-inner"))},[O(e.$slots,"prefix"),e.prefixIcon?(f(),S(t(M),{key:0,class:b(t(r).e("icon"))},{default:L(()=>[(f(),S(U(e.prefixIcon)))]),_:1},8,["class"])):m("v-if",!0)],2)],2)):m("v-if",!0),V("input",X({id:t(ue),ref_key:"input",ref:D,class:t(r).e("inner")},t(y),{type:e.showPassword?H.value?"text":"password":e.type,disabled:t($),formatter:e.formatter,parser:e.parser,readonly:e.readonly,autocomplete:e.autocomplete,tabindex:e.tabindex,"aria-label":e.label,placeholder:e.placeholder,style:e.inputStyle,onCompositionstart:he,onCompositionupdate:be,onCompositionend:ge,onInput:te,onFocus:xe,onBlur:Se,onChange:ye,onKeydown:Ee}),null,16,Kt),m(" suffix slot "),t(He)?(f(),w("span",{key:1,class:b(t(r).e("suffix"))},[V("span",{class:b(t(r).e("suffix-inner"))},[!t(K)||!t(G)||!t(k)?(f(),w(ae,{key:0},[O(e.$slots,"suffix"),e.suffixIcon?(f(),S(t(M),{key:0,class:b(t(r).e("icon"))},{default:L(()=>[(f(),S(U(e.suffixIcon)))]),_:1},8,["class"])):m("v-if",!0)],64)):m("v-if",!0),t(K)?(f(),S(t(M),{key:1,class:b([t(r).e("icon"),t(r).e("clear")]),onMousedown:at(t(nt),["prevent"]),onClick:Ie},{default:L(()=>[st(t(bt))]),_:1},8,["class","onMousedown"])):m("v-if",!0),t(G)?(f(),S(t(M),{key:2,class:b([t(r).e("icon"),t(r).e("password")]),onClick:Ue},{default:L(()=>[(f(),S(U(t(Oe))))]),_:1},8,["class"])):m("v-if",!0),t(k)?(f(),w("span",{key:3,class:b(t(r).e("count"))},[V("span",{class:b(t(r).e("count-inner"))},W(t(Q))+" / "+W(t(y).maxlength),3)],2)):m("v-if",!0),t(_)&&t(fe)&&t(pe)?(f(),S(t(M),{key:4,class:b([t(r).e("icon"),t(r).e("validateIcon"),t(r).is("loading",t(_)==="validating")])},{default:L(()=>[(f(),S(U(t(fe))))]),_:1},8,["class"])):m("v-if",!0)],2)],2)):m("v-if",!0)],2),m(" append slot "),e.$slots.append?(f(),w("div",{key:1,class:b(t(r).be("group","append"))},[O(e.$slots,"append")],2)):m("v-if",!0)],64)):(f(),w(ae,{key:1},[m(" textarea "),V("textarea",X({id:t(ue),ref_key:"textarea",ref:P,class:t(ce).e("inner")},t(y),{tabindex:e.tabindex,disabled:t($),readonly:e.readonly,autocomplete:e.autocomplete,style:t(ve),"aria-label":e.label,placeholder:e.placeholder,onCompositionstart:he,onCompositionupdate:be,onCompositionend:ge,onInput:te,onFocus:xe,onBlur:Se,onChange:ye,onKeydown:Ee}),null,16,jt),t(k)?(f(),w("span",{key:0,style:lt(de.value),class:b(t(r).e("count"))},W(t(Q))+" / "+W(t(y).maxlength),7)):m("v-if",!0)],64))],16,Ht)),[[ot,e.type!=="hidden"]])}});var qt=_e(Wt,[["__file","/home/runner/work/element-plus/element-plus/packages/components/input/src/input.vue"]]);const eo=Be(qt);export{Gt as C,eo as E,le as U,M as a,xt as b,Qt as c,kt as d,Nt as e,Pt as f,Zt as g,St as i,Jt as t,$t as u};
